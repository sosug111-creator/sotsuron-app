<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9RG9T3E5N9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9RG9T3E5N9');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anke Share - ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆç›¸äº’å›ç­”ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </title>

    <meta property="og:title" content="Anke Share - ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆç›¸äº’å›ç­”ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ">
    <meta property="og:description" content="å¤§å­¦ç”Ÿã®ãŸã‚ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆäº¤æ›ã‚µã‚¤ãƒˆã€‚ãƒã‚¤ãƒ³ãƒˆã‚’è²¯ã‚ã¦è‡ªåˆ†ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’æ²è¼‰ã—ã‚ˆã†ï¼">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ankeshare-app.vercel.app/"> 
    <meta property="og:image" content="https://ankeshare-app.vercel.app/ogp.png"> 
    <meta name="twitter:card" content="summary_large_image">

    <link rel="icon" type="image/png" href="favicon.svg">
    
    <style>
        /* åŸºæœ¬è¨­å®š */
        :root { --primary: #4f46e5; --bg: #f3f4f6; --card-bg: #ffffff; --text: #1f2937; }
        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg); color: var(--text);
            margin: 0; padding: 0; line-height: 1.6; padding-top: 80px; 
        }
        header {
            background-color: white; padding: 1rem 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: flex; justify-content: space-between; align-items: center;
            position: fixed; top: 0; left: 0; width: 100%;
            box-sizing: border-box; z-index: 1000; 
        }
        .logo { font-weight: bold; font-size: 1.5rem; color: var(--primary); white-space: nowrap; }
        .status-bar { font-size: 0.9rem; font-weight: bold; display: flex; align-items: center; }
        .point-box { background: var(--primary); color: white; padding: 5px 12px; border-radius: 20px; margin-left: 10px; white-space: nowrap; }
        
        .container { max-width: 800px; margin: 0 auto; padding: 1rem; }
        .hero { text-align: center; margin-bottom: 2rem; padding-top: 1rem;}
        .hero h3 { margin: 0; color: #4b5563; }
        
        .survey-list { display: grid; gap: 1rem; }
        .card {
            background: var(--card-bg); padding: 1.5rem;
            border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            display: flex; justify-content: space-between; align-items: center;
        }
        .card:hover { transform: translateY(-3px); }
        .card-info h3 { margin: 0 0 0.5rem 0; font-size: 1.1rem; }
        .tags { font-size: 0.8rem; color: #6b7280; }
        .tag { background: #e5e7eb; padding: 2px 8px; border-radius: 4px; margin-right: 5px; }
        
        button {
            background-color: var(--primary); color: white; border: none;
            padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;
            font-weight: bold; white-space: nowrap; min-width: 100px; 
        }
        button:hover { opacity: 0.9; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }

        .my-post-area {
            background: #e0e7ff; padding: 1.5rem; border-radius: 12px;
            text-align: center; margin-bottom: 2rem;
        }

        /* ã‚¹ãƒãƒ›ç”¨è¨­å®š */
        @media (max-width: 600px) {
            header { padding: 0.8rem 1rem; flex-direction: column; gap: 10px; height: auto; }
            body { padding-top: 110px; }
            .logo { font-size: 1.3rem; }
            .card { flex-direction: column; align-items: flex-start; }
            .card-info { margin-bottom: 1rem; width: 100%; }
            .card button { width: 100%; padding: 0.8rem; }
        }

        /* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”¨ */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex; justify-content: center; align-items: center;
            z-index: 9999; padding: 10px; box-sizing: border-box;
        }
        .modal-content {
            background: white; padding: 2rem; border-radius: 12px;
            max-width: 500px; width: 100%; box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            max-height: 90vh; overflow-y: auto;
        }
        .modal-content h2 { margin-top: 0; color: var(--primary); text-align: center; font-size: 1.5rem; }
        .modal-content ul { text-align: left; font-size: 0.9rem; padding-left: 1.2rem; color: #4b5563; }
        .modal-content li { margin-bottom: 0.5rem; }
        
        .agree-area {
            margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid #eee; text-align: center;
        }
        .agree-label {
            display: flex; align-items: center; justify-content: center;
            gap: 10px; cursor: pointer; font-weight: bold; font-size: 0.95rem;
        }
        .agree-label input { transform: scale(1.3); cursor: pointer; }
        
        #closeModalBtn {
            margin-top: 1rem; width: 100%; padding: 1rem; font-size: 1rem;
            background-color: #ccc; cursor: not-allowed; transition: 0.3s;
            border: none; border-radius: 6px; color: white;
        }
        #closeModalBtn.active { background-color: var(--primary); cursor: pointer; }

        @media (max-width: 600px) {
            .modal-content { padding: 1.2rem; width: 95%; }
            .modal-content h2 { font-size: 1.3rem; }
            .modal-content ul { padding-left: 1rem; }
        }
    
    /* â–¼â–¼â–¼ è¿½åŠ ï¼šã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›® â–¼â–¼â–¼ */
        .share-area {
            text-align: center;
            margin: 1rem 0 2rem 0;
        }
        .share-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 20px;
            border-radius: 30px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            margin: 0 5px;
            font-size: 0.9rem;
            cursor: pointer;
            border: none;
            transition: opacity 0.2s;
        }
        .share-btn:hover { opacity: 0.8; }
        .btn-x { background-color: #000; } /* Xã¯é»’ */
        .btn-line { background-color: #06c755; } /* LINEã¯ç·‘ */    
    
    </style>
</head>
<body>
    <div id="welcomeModal" class="modal-overlay">
        <div class="modal-content">
            <h2>Anke Shareã®ã”åˆ©ç”¨ã«ã¤ã„ã¦</h2>
            <p style="font-size:0.9rem; color:#666;">
                æœ¬ã‚µã‚¤ãƒˆã¯å­¦ç”ŸåŒå£«ã®ç›¸äº’æ‰¶åŠ©ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚<br>
                å¥å…¨ãªé‹å–¶ã®ãŸã‚ã€ä»¥ä¸‹ã®ç‚¹ã«ã”åŒæ„ãã ã•ã„ã€‚
            </p>
            <ul>
                <li><strong>æ‚ªç”¨å³ç¦ï¼š</strong>ä¸é©åˆ‡ãªæŠ•ç¨¿ã¯å³æ™‚å‰Šé™¤ãƒ»é€šå ±ã—ã¾ã™ã€‚</li>
                <li><strong>è‡ªå‹•å‰Šé™¤ï¼š</strong>æ²è¼‰ã¯ç™»éŒ²æ—¥ã‹ã‚‰<strong>2é€±é–“</strong>ã§è‡ªå‹•çµ‚äº†ã—ã¾ã™ã€‚</li>
                <li><strong>ãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼š</strong>ãƒã‚¤ãƒ³ãƒˆã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤ã§æ¶ˆãˆã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</li>
                <li><strong>å…è²¬äº‹é …ï¼š</strong>ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå†…å®¹ã‚„ãƒˆãƒ©ãƒ–ãƒ«ã«é–¢ã—ã¦ç®¡ç†äººã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            </ul>
            <p style="font-size:0.85rem; background:#f3f4f6; padding:0.5rem; border-radius:4px; text-align:center;">
                ãŠå•ã„åˆã‚ã›ãƒ»å‰Šé™¤ä¾é ¼ï¼š<br>
                <a href="mailto:sosug1411@gmail.com">sosug1411@gmail.com</a>
            </p>
            <div class="agree-area">
                <label class="agree-label"><input type="checkbox" id="agreeCheck">ä¸Šè¨˜ã®å†…å®¹ã‚’ç†è§£ã—ã€åŒæ„ã—ã¾ã™</label>
                <button id="closeModalBtn" disabled>ã‚µã‚¤ãƒˆã‚’åˆ©ç”¨ã™ã‚‹</button>
            </div>
        </div>
    </div>

    <header>
        <div class="logo">Anke Share</div>
        <div class="status-bar">
            ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ²è¼‰æ•° <span class="point-box" id="surveyCountDisplay" style="background-color: #10b981; margin-right: 15px;">0ä»¶</span>
            ç¾åœ¨ã®ãƒ©ãƒ³ã‚¯ <span class="point-box" id="pointDisplay">0 pt</span>
        </div>
    </header>

    <div class="container">
        <div class="my-post-area">
            <h2>ã‚ãªãŸã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’æ²è¼‰</h2>
            
            <div id="status-incomplete">
                <p>ã‚ã¨ <span id="pointsNeeded" style="font-weight:bold; color:red; font-size:1.2rem;">3</span> ã¤å›ç­”ã™ã‚‹ã¨<br>è‡ªåˆ†ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’æ²è¼‰ã§ãã¾ã™</p>
                <button id="postBtn" disabled>æ¡ä»¶æœªé”æˆ</button>
            </div>
            
            <div id="status-complete" style="display: none;">
                <p><b>æ¡ä»¶é”æˆï¼æ²è¼‰å¯èƒ½ã§ã™</b></p>
                <button id="activePostBtn" style="background-color: #ef4444;">ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’ç™»éŒ²ã™ã‚‹</button>
            </div>
            </div>

        <div class="hero">
            <h3>ã¿ã‚“ãªã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã«å›ç­”ã—ã¦<br>ãƒã‚¤ãƒ³ãƒˆã‚’è²¯ã‚ã‚ˆã†</h3>
        </div>
        <div class="share-area">
            <p style="font-size:0.8rem; color:#666; margin-bottom:0.5rem;">å‹é”ã«ã‚·ã‚§ã‚¢ã—ã¦ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’é›†ã‚ã‚ˆã†ï¼</p>
            
            <button class="share-btn btn-x" onclick="window.open('https://twitter.com/intent/tweet?text='+encodeURIComponent('å¤§å­¦ç”Ÿã®ãŸã‚ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå›ç­”ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€ŒAnke Shareã€\nãƒã‚¤ãƒ³ãƒˆã‚’è²¯ã‚ã¦è‡ªåˆ†ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’æ²è¼‰ã—ã‚ˆã†ï¼')+'&url='+encodeURIComponent(location.href), '_blank')">
                X ã§ã‚·ã‚§ã‚¢
            </button>

            <button class="share-btn btn-line" onclick="window.open('https://social-plugins.line.me/lineit/share?url='+encodeURIComponent(location.href), '_blank')">
                LINE ã§é€ã‚‹
            </button>
        </div>

        <div class="survey-list" id="survey-list">
            </div>
    </div>

  <script>
        // â–¼â–¼â–¼ è¨­å®šã‚¨ãƒªã‚¢ â–¼â–¼â–¼
        const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ4Qjh20XKMyAtIWUQpOlaqKfEa0mGuzdMC7q1rihKbRuDMczRJTL6wR0oY3ouipDK8uFhuVhzYwMh9/pub?output=csv";
        const validPeriodDays = 14;
        const postFormUrl = "post.html";
        const requiredPoints = 3;
        
        // å ±å‘Šç”¨ãƒ•ã‚©ãƒ¼ãƒ ã®URLï¼ˆã”è‡ªèº«ã§ä½œæˆã—ãŸURLãŒå…¥ã£ã¦ã„ã¾ã™ã‹ç¢ºèªã—ã¦ãã ã•ã„ï¼‰
        const reportFormUrl = "https://docs.google.com/forms/d/e/1FAIpQLSdSezMq8XimmjdBuHSrCDuJin-U_KSeIEpBM0jjWEU51X2FUg/viewform?usp=dialog"; 
        // â–²â–²â–² è¨­å®šã“ã“ã¾ã§ â–²â–²â–²

        // å¤‰æ•°åˆæœŸåŒ–
        let savedPoints = localStorage.getItem('sotsuron_points');
        let points = savedPoints ? parseInt(savedPoints) : 0;
        let answeredSurveys = JSON.parse(localStorage.getItem('anke_share_answered_list')) || [];

        // ç”»é¢è¡¨ç¤ºæ›´æ–°
        updateDisplay();

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†æ™‚
        window.onload = function() {
            if(savedPoints) points = parseInt(savedPoints);
            updateDisplay();

            const listElement = document.getElementById('survey-list');
            listElement.innerHTML = '<p style="text-align:center; padding:2rem; color:#666;">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>';

            // ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾ç­–ã‚’ã—ã¦fetch
            fetch(sheetUrl + "&t=" + new Date().getTime())
                .then(response => response.text())
                .then(text => {
                    let rows = parseCSV(text);
                    const header = rows[0];
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);

                    // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
                    const dataRows = rows.slice(1).filter(row => {
                        if (row.length < 5) return false; 
                        const registeredDateStr = row[4];
                        const registeredDate = new Date(registeredDateStr);
                        if (isNaN(registeredDate.getTime())) return false;
                        const deadline = new Date(registeredDate);
                        deadline.setDate(deadline.getDate() + validPeriodDays);
                        return today <= deadline;
                    });
                    
                    document.getElementById('surveyCountDisplay').innerText = dataRows.length + " ä»¶";
                    listElement.innerHTML = ""; 

                    if (dataRows.length === 0) {
                        listElement.innerHTML = `
                            <div style="text-align:center; padding:3rem; color:#666;">
                                <p>ç¾åœ¨å‹Ÿé›†ä¸­ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“</p>
                                <p style="font-size:0.8rem;">æœ€åˆã®æŠ•ç¨¿è€…ã«ãªã£ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ</p>
                            </div>
                        `;
                        return;
                    }

                    dataRows.sort(() => Math.random() - 0.5);
                    rows = [header, ...dataRows];

                    for (let i = 1; i < rows.length; i++) {
                        const row = rows[i];
                        const title = row[0];
                        const tag = row[1];
                        const time = row[2];
                        const url = (row[3] || "").trim();
                        const registeredDateStr = row[4]; // ç™»éŒ²æ—¥

                        // â˜…IDä½œæˆï¼šURLã¨ç™»éŒ²æ—¥æ™‚ã‚’çµ„ã¿åˆã‚ã›ã¦ã€Œçµ¶å¯¾ã«è¢«ã‚‰ãªã„IDã€ã‚’ä½œã‚‹
                        // ã“ã‚Œã§ã€ŒåŒã˜URLã§ã‚‚åˆ¥ç‰©ã€ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™
                        const uniqueId = url + "_" + registeredDateStr;

                        // â˜…â˜…â˜… æ®‹ã‚Šæ—¥æ•°ã®è¨ˆç®— â˜…â˜…â˜…
                        const registeredDate = new Date(registeredDateStr);
                        const deadline = new Date(registeredDate);
                        deadline.setDate(deadline.getDate() + validPeriodDays);
                        
                        const diffTime = deadline - today;
                        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                        let deadlineHTML = "";
                        if (diffDays <= 3) {
                            deadlineHTML = `<span style="color:#ef4444; font-weight:bold; font-size:0.85rem; margin-left:8px;">ğŸ”¥ã‚ã¨${diffDays}æ—¥</span>`;
                        } else {
                            deadlineHTML = `<span style="color:#6b7280; font-size:0.85rem; margin-left:8px;">ã‚ã¨${diffDays}æ—¥</span>`;
                        }
                        // â˜…â˜…â˜… ã“ã“ã¾ã§ â˜…â˜…â˜…

                        // â˜…åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ï¼šURLã§ã¯ãªãIDã§ãƒã‚§ãƒƒã‚¯
                        const isAnswered = answeredSurveys.includes(uniqueId);
                        
                        let buttonHTML = '';
                        if (isAnswered) {
                            buttonHTML = `<button disabled style="background-color:#ccc; cursor:default;">å›ç­”æ¸ˆã¿</button>`;
                        } else {
                            // â˜…é‡è¦ï¼šã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã« ID ã¨ URL ã®ä¸¡æ–¹ã‚’æ¸¡ã™ã‚ˆã†ã«å¤‰æ›´
                            buttonHTML = `<button onclick="clickSurvey('${uniqueId}', '${url}', this)">å›ç­”ã™ã‚‹</button>`;
                        }

                        const reportLinkHTML = `
                            <a href="${reportFormUrl}" target="_blank" rel="noopener noreferrer" 
                               style="font-size:0.8rem; color:#999; text-decoration:underline; display:inline-block; padding:5px 0;">
                               âš ï¸ å ±å‘Š
                            </a>
                        `;

                        const cardHTML = `
                            <div class="card">
                                <div class="card-info">
                                    <h3>${title}</h3>
                                    <div class="tags">
                                        <span class="tag">${tag}</span>
                                        <span class="tag">${time}</span>
                                        ${deadlineHTML}
                                    </div>
                                    <div style="margin-top: 0.5rem;">
                                        ${reportLinkHTML}
                                    </div>
                                </div>
                                ${buttonHTML}
                            </div>
                        `;
                        listElement.insertAdjacentHTML('beforeend', cardHTML);
                    }
                })
                .catch(err => {
                    console.error(err);
                    listElement.innerHTML = '<p style="text-align:center; color:red;">èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼<br>å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„</p>';
                });
        };

        // ãƒã‚¤ãƒ³ãƒˆè¡¨ç¤ºã®æ›´æ–°
        function updateDisplay() {
            document.getElementById('pointDisplay').innerText = points + " pt";
            let remaining = requiredPoints - points;
            
            const incompleteArea = document.getElementById('status-incomplete');
            const completeArea = document.getElementById('status-complete');

            if (remaining <= 0) {
                incompleteArea.style.display = 'none';
                completeArea.style.display = 'block';
                const activeBtn = document.getElementById('activePostBtn');
                activeBtn.onclick = function() { window.open(postFormUrl, '_blank'); };
            } else {
                incompleteArea.style.display = 'block';
                completeArea.style.display = 'none';
                document.getElementById('pointsNeeded').innerText = remaining;
            }
        }

        // å›ç­”ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
        // â–¼â–¼â–¼ ä¿®æ­£ç‰ˆï¼šIDã¨URLã®ä¸¡æ–¹ã‚’å—ã‘å–ã‚‹é–¢æ•° â–¼â–¼â–¼
        function clickSurvey(uniqueId, url, btnElement) {
            if(!confirm("ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã¸ç§»å‹•ã—ã¾ã™ã‹ï¼Ÿ")) return;
            
            points++;
            localStorage.setItem('sotsuron_points', points);
            
            // â˜…ã“ã“ãŒä¿®æ­£ç‚¹ï¼šURLã§ã¯ãªãã€ŒIDã€ã‚’ä¿å­˜ãƒªã‚¹ãƒˆã«è¿½åŠ 
            answeredSurveys.push(uniqueId);
            localStorage.setItem('anke_share_answered_list', JSON.stringify(answeredSurveys));

            // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            btnElement.innerText = "å›ç­”æ¸ˆã¿";
            btnElement.disabled = true;
            btnElement.style.backgroundColor = "#ccc";
            btnElement.style.cursor = "default";
            btnElement.onclick = null;

            updateDisplay();
            window.open(url, '_blank');
        }

        // CSVãƒ‘ãƒ¼ã‚¹
        function parseCSV(text) {
            const rows = []; let row = []; let inQuote = false; let currentCell = "";
            for (let i = 0; i < text.length; i++) {
                const char = text[i]; const nextChar = text[i+1];
                if (char === '"') {
                    if (inQuote && nextChar === '"') { i++; currentCell += '"'; } else { inQuote = !inQuote; }
                } else if (char === ',' && !inQuote) {
                    row.push(currentCell); currentCell = "";
                } else if ((char === '\r' || char === '\n') && !inQuote) {
                    if (currentCell || row.length > 0) row.push(currentCell);
                    if (row.length > 0) rows.push(row);
                    row = []; currentCell = "";
                    if (char === '\r' && nextChar === '\n') i++;
                } else { currentCell += char; }
            }
            if (currentCell || row.length > 0) { row.push(currentCell); rows.push(row); }
            return rows;
        }

        // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—åˆ¶å¾¡
        const modal = document.getElementById('welcomeModal');
        const checkbox = document.getElementById('agreeCheck');
        const closeBtn = document.getElementById('closeModalBtn');
        if (localStorage.getItem('anke_share_agreed') === 'true') { if(modal) modal.style.display = 'none'; }
        if(checkbox && closeBtn) {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    closeBtn.disabled = false; closeBtn.classList.add('active'); closeBtn.innerText = "åŒæ„ã—ã¦åˆ©ç”¨ã‚’é–‹å§‹";
                } else {
                    closeBtn.disabled = true; closeBtn.classList.remove('active'); closeBtn.innerText = "åŒæ„ãŒå¿…è¦ã§ã™";
                }
            });
            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none'; localStorage.setItem('anke_share_agreed', 'true');
            });
        }
  </script>
    
    <footer style="text-align:center; padding:2rem; margin-top:2rem; font-size:0.8rem; color:#666; border-top:1px solid #ddd;">
        <p>Anke Shareï¼ˆã‚¢ãƒ³ã‚±ã‚·ã‚§ã‚¢ï¼‰</p>
        <p>å€‹äººæƒ…å ±ã¯é‹å–¶é€£çµ¡ã®ã¿ã«ä½¿ç”¨ã—ã¾ã™ã€‚<br>Google Analyticsä½¿ç”¨ä¸­ã€‚</p>
        <p>ãŠå•ã„åˆã‚ã›: <a href="mailto:sosug1411@gmail.com">sosug1411@gmail.com</a></p>
        <p>&copy; 2025 Anke Share</p>
    </footer>
</body>
</html>